;32 BIT ADDITION 
;DEEPTI SHARMA
;BSC(HONS)COMPUTER SCIENCE 3 YR: 2014315

.model small
.stack 100h
.data
d1 dd 00000000H
a db "Enter number $"

.code
start:
MOV AX,@data
MOV DS,AX
mov dx,offset a
mov ah,09h
int 21h
MOV SI,OFFSET d1
MOV BX,6
A1:
CALL INP
MOV [SI+BX],BP
DEC BX
DEC BX
JNZ A1
CALL INP
MOV [SI],BP
XOR BX,BX

MOV AX,[SI]
ADD AX,[SI+4]
MOV [SI],AX

ADC BX,[SI+2]
ADD BX,[SI+6]
MOV [SI+2],BX

JNC A2
MOV BP,0001H
CALL OTP
A2:
MOV BP,[SI+2]
CALL OTP
MOV BP,[SI]
CALL OTP

MOV AH,4CH
INT 21H

INP PROC NEAR
MOV BP,0H
MOV CH,04H
MOV CL,04H
L2:MOV AH,01H
INT 21H
SUB AL,30H
CMP AL,0AH
JC L1
SUB AL,07H
L1:XOR AH,AH
SHL BP,CL
ADD BP,AX
DEC CH
JNZ L2
RET
INP ENDP


OTP PROC NEAR
MOV CH,04H
MOV CL,0CH
L4: MOV DX,BP
SHR DX,CL
AND DX,0FH
ADD DL,30H
CMP DL,3AH
JC L3
ADD DL,07H
L3: MOV AH,02H
INT 21H
SUB CL,04H
DEC CH
JNZ L4
RET
OTP ENDP


END

